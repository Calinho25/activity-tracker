<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h2>Stopwatch</h2>
         <div id="stopwatch" >00:00:00</div>
         <!--calls a function when the button is clicked-->
         <button onclick="startStopwatch()">Start</button>
         <button onclick="stopStopwatch()">Stop</button>
         <button onclick="resetStopwatch()">Reset</button>
    <script>
        /*keep track of start time*/
        let startTime;
        /*keep track of the interval*/
        let stopwatchInterval;
        /*keep track of elapsed pause time*/
        let elapsedPausedTime = 0;
        function startStopwatch() {
            /* if stopwatchInterval is empty(stopwatch isn't running) the the statement runs */
            if (!stopwatchInterval) {
                startTime = new Date().getTime()-elapsedPausedTime;
                /* updates every 1s */
                stopwatchInterval = setInterval(updateStopwatch, 1000)
            }
        }
        function stopStopwatch() {
            /*stops interval*/
            clearInterval(stopwatchInterval);
            elapsedPausedTime = new Date().getTime() - startTime; // calculate elapsed paused time and saves it
            stopwatchInterval = null; // reset the interval variable
        }
        function resetStopwatch(){
            stopStopwatch(); // stop the interval
            elapsedPausedTime = 0; // reset the elapsed paused time variable
            document.getElementById("stopwatch").innerHTML = "00:00:00"; // reset the display
        }
        function updateStopwatch() {
            var currentTime = new Date().getTime(); // get current time in milliseconds
            var elapsedTime = currentTime - startTime; // calculate elapsed time in milliseconds
            var seconds = Math.floor(elapsedTime / 1000) % 60; // calculate seconds
            var minutes = Math.floor(elapsedTime / 1000 / 60) % 60; // calculate minutes
            var hours = Math.floor(elapsedTime / 1000 / 60 / 60); // calculate hours
            var displayTime = pad(hours) + ":" + pad(minutes) + ":" + pad(seconds); // format display time
            document.getElementById("stopwatch").innerHTML = displayTime; // update the display
        }
        function pad(number) {
        // add a leading zero if the number is less than 10
        return (number < 10 ? "0" : "") + number;
      }
    </script>
</body>
</html>